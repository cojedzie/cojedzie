<template>
    <div class="ui-pin" :class="[`ui-pin--${variant}`]">
        <svg
            class="ui-pin__pin"
            viewBox="98 0 48 70"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            xml:space="preserve"
            style="fill-rule: evenodd; clip-rule: evenodd; stroke-linejoin: round; stroke-miterlimit:2;"
        >
            <g id="Pin" transform="matrix(0.190264,0,0,0.190264,45.8946,-16.848)">
                <path
                    d="M295.986,276.288C285.27,258.247 279.115,237.182 279.115,214.692C279.115,147.973 333.282,93.807 400,93.807C466.718,93.807 520.885,147.973 520.885,214.692C520.885,237.182 514.73,258.247 504.014,276.288L504.015,276.288C504.015,276.288 430.185,404.165 406.928,444.447C405.499,446.922 402.858,448.447 400,448.447C397.142,448.447 394.501,446.922 393.072,444.447C369.815,404.165 295.985,276.288 295.985,276.288L295.986,276.288Z"
                    :style="`fill: ${variant === 'outline' ? 'white' : 'var(--ui-pin-color)'};`"
                />
                <path
                    d="M290.897,279.25L290.886,279.232C290.886,279.232 364.716,407.109 387.972,447.391C390.453,451.688 395.038,454.335 400,454.335C404.962,454.335 409.547,451.688 412.028,447.391C435.284,407.109 509.114,279.232 509.114,279.232L509.113,279.233C520.33,260.324 526.773,238.254 526.773,214.692C526.773,144.723 469.968,87.918 400,87.918C330.032,87.918 273.227,144.723 273.227,214.692C273.227,238.261 279.674,260.337 290.897,279.25ZM295.986,276.288C285.27,258.247 279.115,237.182 279.115,214.692C279.115,147.973 333.282,93.807 400,93.807C466.718,93.807 520.885,147.973 520.885,214.692C520.885,237.182 514.73,258.247 504.014,276.288L504.015,276.288C504.015,276.288 430.185,404.165 406.928,444.447C405.499,446.922 402.858,448.447 400,448.447C397.142,448.447 394.501,446.922 393.072,444.447C369.815,404.165 295.985,276.288 295.985,276.288L295.986,276.288ZM295.42,282.146L295.596,282.163L295.42,282.146ZM295.205,282.125L295.212,282.125L295.011,282.092L295.205,282.125ZM294.824,282.061L294.833,282.062L294.625,282.014L294.824,282.061ZM294.449,281.973L294.461,281.975L294.251,281.912L294.449,281.973ZM294.082,281.861L294.096,281.865L293.889,281.787L294.082,281.861ZM293.725,281.725L293.741,281.731L293.537,281.64L293.725,281.725ZM293.377,281.567L293.396,281.576L293.197,281.471L293.377,281.567ZM293.041,281.388L293.061,281.398L292.869,281.281L293.041,281.388ZM292.717,281.186L292.739,281.2L292.554,281.069L292.717,281.186ZM292.407,280.964L292.43,280.981L292.252,280.838L292.407,280.964ZM292.111,280.722L292.135,280.742L291.966,280.587L292.111,280.722ZM291.831,280.461L291.856,280.484L291.695,280.317L291.831,280.461ZM291.567,280.181L291.592,280.207L291.442,280.029L291.567,280.181ZM291.321,279.882L291.346,279.912L291.207,279.724L291.321,279.882ZM291.094,279.566L291.118,279.6L290.992,279.402L291.094,279.566Z"
                    style="fill: var(--ui-pin-color);"
                />
                <path
                    d="M295.986,276.288C285.27,258.247 279.115,237.182 279.115,214.692C279.115,147.973 333.282,93.807 400,93.807C466.718,93.807 520.885,147.973 520.885,214.692C520.885,237.182 514.73,258.247 504.014,276.288L504.015,276.288C504.015,276.288 430.185,404.165 406.928,444.447C405.499,446.922 402.858,448.447 400,448.447C397.142,448.447 394.501,446.922 393.072,444.447C369.815,404.165 295.985,276.288 295.985,276.288L295.986,276.288ZM499.464,273.662L499.463,273.66C499.463,273.66 425.633,401.537 402.376,441.819C401.886,442.668 400.98,443.191 400,443.191C399.02,443.191 398.114,442.668 397.624,441.819C374.367,401.537 300.537,273.66 300.537,273.66L300.505,273.604C290.256,256.349 284.371,236.202 284.371,214.692C284.371,150.874 336.183,99.062 400,99.062C463.817,99.062 515.629,150.874 515.629,214.692C515.629,236.202 509.744,256.349 499.495,273.604L499.464,273.662Z"
                    :style="`fill: ${variant !== 'filled' ? 'white' : 'var(--ui-pin-color)'};`"
                />
            </g>
        </svg>
        <div class="ui-pin__content">
            <slot />
        </div>
    </div>
</template>

<script lang="ts">
import { defineComponent, PropType } from "vue";

export type UiPinVariant = "filled" | "outline" | "filled-outline";

export const UiPinProps = {
    variant: {
        type: String as PropType<UiPinVariant>,
        default: "outline" as UiPinVariant,
    }
}

export default defineComponent({
    name: "UiPin",
    props: UiPinProps,
})
</script>

<style lang="scss">
@import "~@styles/_variables";

$ui-pin-width: 32px;

.ui-pin {
    position: relative;
    --ui-pin-color: #{$primary};
    --ui-pin-width: #{$ui-pin-width};
}

.ui-pin__pin {
    width: var(--ui-pin-width);
}

.ui-pin__content {
    position: absolute;
    top: calc(var(--ui-pin-width) / 2);
    left: calc(var(--ui-pin-width) / 2);
    text-align: center;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 16px;
}

.ui-pin--outline .ui-pin__content {
    color: var(--ui-pin-color);
}
</style>
